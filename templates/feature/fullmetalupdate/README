FullMetalUpdate
==================
This template enables fullmetalupdate feature in wrlinux.

Here is an example on how to build and run it with config.cfg.sample.

* Setup a hawkbit sever, this is a must when ENABLE_PUSH_SERVER = "yes"
  (default value), otherwise, the build would be failed.

$ git clone git@github.com:FullMetalUpdate/fullmetalupdate-cloud-demo.git
$ cd fullmetalupdate-cloud-demo
$ ./StartServer.sh
$ ./ConfigureServer.sh

NOTE: The ostree-server container is using the python3 web server one-liner
      that can cause stability issue. So build local ostree-server image using Ruby
      one-liner web server instead. The docker compose file need to be updated
      according to the ostree-server image naming.

Login to the sever with admin:admin by default:
http://<hawkbit_server_ip>:8080

The ip is default to localhost in config.cfg.sample, you also need update
config.cfg.sample or your config.cfg when it is changed.

* Add the following lines to conf/local.conf (Optional, but recommended)
HAWKBIT_CONFIG_FILE = "/path/to/config.cfg"
HAWKBIT_USER_PASSWORD = "<user>:<password>"

The default settings will be used if they are not set, but warnings for security reason:
WARNING: Default config.cfg.sample may not work, please define a new one with HAWKBIT_CONFIG_FILE
WARNING: Default HAWKBIT_USER_PASSWORD is insecure, please define a new one according to hawkbit server

The default password is admin:admin.

The default HAWKBIT_CONFIG_FILE is
recipes-sota/fullmetalupdate/files/config.cfg.sample, you can view it for more
details.

* Build without feature/ostree:
Add the following line to conf/local.conf:
WRTEMPLATE = "feature/fullmetalupdate"

$ bitbake wrlinux-image-small container-hello-world

* Build with feature/ostree:
Add the following line to conf/local.conf:
WRTEMPLATE = "feature/ostree feature/fullmetalupdate"

$ bitbake wrlinux-image-small container-hello-world

You can see that images are pushed to http://<hawkbit_server_ip>:8080 after the build

More info: https://www.fullmetalupdate.io/docs/documentation/
